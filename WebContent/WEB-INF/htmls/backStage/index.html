<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<title>网站后台</title>
<!-- Bootstrap Core CSS -->
<link href="/music/css/bootstrap.min.css" rel="stylesheet">
<!-- Custom CSS -->
<link href="/music/css/sb-admin-2.min.css" rel="stylesheet">
<link href="/music/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
<style type="text/css">
.prototype {
	display: none;
}
</style>
</head>
<body>
	<div id="wrapper">
		<!-- Navigation -->
		<nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
			<div class="navbar-header" style="width: 100%;">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="/music/admin/html/index">网站后台</a>
				<ul class="nav navbar-top-links navbar-right pull-right">
					<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"> <i class="fa fa-user fa-fw"></i> <i
							class="fa fa-caret-down"></i>
					</a>
						<ul class="dropdown-menu dropdown-user">
							<li><a href="#" id="logout"><i class="fa fa-sign-out fa-fw"></i>退出</a></li>
						</ul></li>
				</ul>
			</div>
			<div class="navbar-default sidebar" role="navigation">
				<div class="sidebar-nav navbar-collapse">
					<ul class="nav" id="nav">
						<li><a href="#" data-href="/music/admin/html/user-tables"><i class="fa fa-fw"></i> 用户模块</a></li>
						<li><a href="#" data-href="/music/admin/html/songMenu-tables"><i class="fa fa-fw"></i> 歌单模块</a></li>
						<li><a href="#" data-href="/music/admin/html/singer-tables"><i class="fa fa-fw"></i> 歌手模块</a></li>
						<li><a href="#" data-href="/music/admin/html/song-tables"><i class="fa fa-fw"></i> 歌曲模块</a></li>
						<li><a href="#" data-href="/music/admin/html/songList-tables"><i class="fa fa-fw"></i> 榜单模块</a></li>
						<li><a href="#" data-href="/music/admin/html/album-tables"><i class="fa fa-fw"></i> 专辑模块</a></li>
						<li><a href="#" data-href="/music/admin/html/singerClassify-tables"><i class="fa fa-fw"></i> 歌手分类模块</a></li>
						<li><a href="#" data-href="/music/admin/html/albumTag-tables"><i class="fa fa-fw"></i> 专辑分类模块</a></li>
						<li><a href="#" data-href="/music/admin/html/songMenuTag-tables"><i class="fa fa-fw"></i> 歌单分类模块</a></li>
					</ul>
				</div>
			</div>
		</nav>
		<div id="page-wrapper">
			<div class="row">
				<div class="col-lg-12">
					<h1 class="page-header">Dashboard</h1>
				</div>
				<!-- /.col-lg-12 -->
			</div>
			<!-- /.row -->
			<div class="row">
				<div class="col-lg-3 col-md-6">
					<div class="panel panel-primary">
						<div class="panel-heading">
							<div class="row">
								<div class="col-xs-3">
									<i class="fa fa-comments fa-5x"></i>
								</div>
								<div class="col-xs-9 text-right">
									<div class="huge">26</div>
									<div>New Comments!</div>
								</div>
							</div>
						</div>
						<a href="#">
							<div class="panel-footer">
								<span class="pull-left">View Details</span> <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
								<div class="clearfix"></div>
							</div>
						</a>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="panel panel-green">
						<div class="panel-heading">
							<div class="row">
								<div class="col-xs-3">
									<i class="fa fa-tasks fa-5x"></i>
								</div>
								<div class="col-xs-9 text-right">
									<div class="huge">12</div>
									<div>New Tasks!</div>
								</div>
							</div>
						</div>
						<a href="#">
							<div class="panel-footer">
								<span class="pull-left">View Details</span> <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
								<div class="clearfix"></div>
							</div>
						</a>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="panel panel-yellow">
						<div class="panel-heading">
							<div class="row">
								<div class="col-xs-3">
									<i class="fa fa-shopping-cart fa-5x"></i>
								</div>
								<div class="col-xs-9 text-right">
									<div class="huge">124</div>
									<div>New Orders!</div>
								</div>
							</div>
						</div>
						<a href="#">
							<div class="panel-footer">
								<span class="pull-left">View Details</span> <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
								<div class="clearfix"></div>
							</div>
						</a>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="panel panel-red">
						<div class="panel-heading">
							<div class="row">
								<div class="col-xs-3">
									<i class="fa fa-support fa-5x"></i>
								</div>
								<div class="col-xs-9 text-right">
									<div class="huge">13</div>
									<div>Support Tickets!</div>
								</div>
							</div>
						</div>
						<a href="#">
							<div class="panel-footer">
								<span class="pull-left">View Details</span> <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
								<div class="clearfix"></div>
							</div>
						</a>
					</div>
				</div>
			</div>
			<!-- /.row -->
			<div class="row">
				<div class="col-lg-8">
					<div class="panel panel-default">
						<div class="panel-heading">
							<i class="fa fa-bar-chart-o fa-fw"></i> Area Chart Example
							<div class="pull-right">
								<div class="btn-group">
									<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
										Actions <span class="caret"></span>
									</button>
									<ul class="dropdown-menu pull-right" role="menu">
										<li><a href="#">Action</a></li>
										<li><a href="#">Another action</a></li>
										<li><a href="#">Something else here</a></li>
										<li class="divider"></li>
										<li><a href="#">Separated link</a></li>
									</ul>
								</div>
							</div>
						</div>
						<!-- /.panel-heading -->
						<div class="panel-body">
							<div id="morris-area-chart"></div>
						</div>
						<!-- /.panel-body -->
					</div>
					<!-- /.panel -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<i class="fa fa-bar-chart-o fa-fw"></i> Bar Chart Example
							<div class="pull-right">
								<div class="btn-group">
									<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
										Actions <span class="caret"></span>
									</button>
									<ul class="dropdown-menu pull-right" role="menu">
										<li><a href="#">Action</a></li>
										<li><a href="#">Another action</a></li>
										<li><a href="#">Something else here</a></li>
										<li class="divider"></li>
										<li><a href="#">Separated link</a></li>
									</ul>
								</div>
							</div>
						</div>
						<!-- /.panel-heading -->
						<div class="panel-body">
							<div class="row">
								<div class="col-lg-4">
									<div class="table-responsive">
										<table class="table table-bordered table-hover table-striped">
											<thead>
												<tr>
													<th>#</th>
													<th>Date</th>
													<th>Time</th>
													<th>Amount</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td>3326</td>
													<td>10/21/2013</td>
													<td>3:29 PM</td>
													<td>$321.33</td>
												</tr>
												<tr>
													<td>3325</td>
													<td>10/21/2013</td>
													<td>3:20 PM</td>
													<td>$234.34</td>
												</tr>
												<tr>
													<td>3324</td>
													<td>10/21/2013</td>
													<td>3:03 PM</td>
													<td>$724.17</td>
												</tr>
												<tr>
													<td>3323</td>
													<td>10/21/2013</td>
													<td>3:00 PM</td>
													<td>$23.71</td>
												</tr>
												<tr>
													<td>3322</td>
													<td>10/21/2013</td>
													<td>2:49 PM</td>
													<td>$8345.23</td>
												</tr>
												<tr>
													<td>3321</td>
													<td>10/21/2013</td>
													<td>2:23 PM</td>
													<td>$245.12</td>
												</tr>
												<tr>
													<td>3320</td>
													<td>10/21/2013</td>
													<td>2:15 PM</td>
													<td>$5663.54</td>
												</tr>
												<tr>
													<td>3319</td>
													<td>10/21/2013</td>
													<td>2:13 PM</td>
													<td>$943.45</td>
												</tr>
											</tbody>
										</table>
									</div>
									<!-- /.table-responsive -->
								</div>
								<!-- /.col-lg-4 (nested) -->
								<div class="col-lg-8">
									<div id="morris-bar-chart"></div>
								</div>
								<!-- /.col-lg-8 (nested) -->
							</div>
							<!-- /.row -->
						</div>
						<!-- /.panel-body -->
					</div>
					<!-- /.panel -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<i class="fa fa-clock-o fa-fw"></i> Responsive Timeline
						</div>
						<!-- /.panel-heading -->
						<div class="panel-body">
							<ul class="timeline">
								<li>
									<div class="timeline-badge">
										<i class="fa fa-check"></i>
									</div>
									<div class="timeline-panel">
										<div class="timeline-heading">
											<h4 class="timeline-title">Lorem ipsum dolor</h4>
											<p>
												<small class="text-muted"><i class="fa fa-clock-o"></i> 11 hours ago via Twitter</small>
											</p>
										</div>
										<div class="timeline-body">
											<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Libero laboriosam dolor perspiciatis omnis exercitationem. Beatae,
												officia pariatur? Est cum veniam excepturi. Maiores praesentium, porro voluptas suscipit facere rem dicta, debitis.</p>
										</div>
									</div>
								</li>
								<li class="timeline-inverted">
									<div class="timeline-badge warning">
										<i class="fa fa-credit-card"></i>
									</div>
									<div class="timeline-panel">
										<div class="timeline-heading">
											<h4 class="timeline-title">Lorem ipsum dolor</h4>
										</div>
										<div class="timeline-body">
											<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem dolorem quibusdam, tenetur commodi provident cumque magni
												voluptatem libero, quis rerum. Fugiat esse debitis optio, tempore. Animi officiis alias, officia repellendus.</p>
											<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laudantium maiores odit qui est tempora eos, nostrum provident
												explicabo dignissimos debitis vel! Adipisci eius voluptates, ad aut recusandae minus eaque facere.</p>
										</div>
									</div>
								</li>
								<li>
									<div class="timeline-badge danger">
										<i class="fa fa-bomb"></i>
									</div>
									<div class="timeline-panel">
										<div class="timeline-heading">
											<h4 class="timeline-title">Lorem ipsum dolor</h4>
										</div>
										<div class="timeline-body">
											<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Repellendus numquam facilis enim eaque, tenetur nam id qui vel velit
												similique nihil iure molestias aliquam, voluptatem totam quaerat, magni commodi quisquam.</p>
										</div>
									</div>
								</li>
								<li class="timeline-inverted">
									<div class="timeline-panel">
										<div class="timeline-heading">
											<h4 class="timeline-title">Lorem ipsum dolor</h4>
										</div>
										<div class="timeline-body">
											<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates est quaerat asperiores sapiente, eligendi, nihil. Itaque
												quos, alias sapiente rerum quas odit! Aperiam officiis quidem delectus libero, omnis ut debitis!</p>
										</div>
									</div>
								</li>
								<li>
									<div class="timeline-badge info">
										<i class="fa fa-save"></i>
									</div>
									<div class="timeline-panel">
										<div class="timeline-heading">
											<h4 class="timeline-title">Lorem ipsum dolor</h4>
										</div>
										<div class="timeline-body">
											<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nobis minus modi quam ipsum alias at est molestiae excepturi delectus
												nesciunt, quibusdam debitis amet, beatae consequuntur impedit nulla qui! Laborum, atque.</p>
											<hr>
											<div class="btn-group">
												<button type="button" class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown">
													<i class="fa fa-gear"></i> <span class="caret"></span>
												</button>
												<ul class="dropdown-menu" role="menu">
													<li><a href="#">Action</a></li>
													<li><a href="#">Another action</a></li>
													<li><a href="#">Something else here</a></li>
													<li class="divider"></li>
													<li><a href="#">Separated link</a></li>
												</ul>
											</div>
										</div>
									</div>
								</li>
								<li>
									<div class="timeline-panel">
										<div class="timeline-heading">
											<h4 class="timeline-title">Lorem ipsum dolor</h4>
										</div>
										<div class="timeline-body">
											<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sequi fuga odio quibusdam. Iure expedita, incidunt unde quis nam!
												Quod, quisquam. Officia quam qui adipisci quas consequuntur nostrum sequi. Consequuntur, commodi.</p>
										</div>
									</div>
								</li>
								<li class="timeline-inverted">
									<div class="timeline-badge success">
										<i class="fa fa-graduation-cap"></i>
									</div>
									<div class="timeline-panel">
										<div class="timeline-heading">
											<h4 class="timeline-title">Lorem ipsum dolor</h4>
										</div>
										<div class="timeline-body">
											<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Deserunt obcaecati, quaerat tempore officia voluptas debitis
												consectetur culpa amet, accusamus dolorum fugiat, animi dicta aperiam, enim incidunt quisquam maxime neque eaque.</p>
										</div>
									</div>
								</li>
							</ul>
						</div>
						<!-- /.panel-body -->
					</div>
					<!-- /.panel -->
				</div>
				<!-- /.col-lg-8 -->
				<div class="col-lg-4">
					<div class="panel panel-default">
						<div class="panel-heading">
							<i class="fa fa-bell fa-fw"></i> Notifications Panel
						</div>
						<!-- /.panel-heading -->
						<div class="panel-body">
							<div class="list-group">
								<a href="#" class="list-group-item"> <i class="fa fa-comment fa-fw"></i> New Comment <span class="pull-right text-muted small"><em>4
											minutes ago</em> </span>
								</a> <a href="#" class="list-group-item"> <i class="fa fa-twitter fa-fw"></i> 3 New Followers <span class="pull-right text-muted small"><em>12
											minutes ago</em> </span>
								</a> <a href="#" class="list-group-item"> <i class="fa fa-envelope fa-fw"></i> Message Sent <span class="pull-right text-muted small"><em>27
											minutes ago</em> </span>
								</a> <a href="#" class="list-group-item"> <i class="fa fa-tasks fa-fw"></i> New Task <span class="pull-right text-muted small"><em>43
											minutes ago</em> </span>
								</a> <a href="#" class="list-group-item"> <i class="fa fa-upload fa-fw"></i> Server Rebooted <span class="pull-right text-muted small"><em>11:32
											AM</em> </span>
								</a> <a href="#" class="list-group-item"> <i class="fa fa-bolt fa-fw"></i> Server Crashed! <span class="pull-right text-muted small"><em>11:13
											AM</em> </span>
								</a> <a href="#" class="list-group-item"> <i class="fa fa-warning fa-fw"></i> Server Not Responding <span
									class="pull-right text-muted small"><em>10:57 AM</em> </span>
								</a> <a href="#" class="list-group-item"> <i class="fa fa-shopping-cart fa-fw"></i> New Order Placed <span
									class="pull-right text-muted small"><em>9:49 AM</em> </span>
								</a> <a href="#" class="list-group-item"> <i class="fa fa-money fa-fw"></i> Payment Received <span class="pull-right text-muted small"><em>Yesterday</em>
								</span>
								</a>
							</div>
							<!-- /.list-group -->
							<a href="#" class="btn btn-default btn-block">View All Alerts</a>
						</div>
						<!-- /.panel-body -->
					</div>
					<!-- /.panel -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<i class="fa fa-bar-chart-o fa-fw"></i> Donut Chart Example
						</div>
						<div class="panel-body">
							<div id="morris-donut-chart"></div>
							<a href="#" class="btn btn-default btn-block">View Details</a>
						</div>
						<!-- /.panel-body -->
					</div>
					<!-- /.panel -->
					<div class="chat-panel panel panel-default">
						<div class="panel-heading">
							<i class="fa fa-comments fa-fw"></i> Chat
							<div class="btn-group pull-right">
								<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
									<i class="fa fa-chevron-down"></i>
								</button>
								<ul class="dropdown-menu slidedown">
									<li><a href="#"> <i class="fa fa-refresh fa-fw"></i> Refresh
									</a></li>
									<li><a href="#"> <i class="fa fa-check-circle fa-fw"></i> Available
									</a></li>
									<li><a href="#"> <i class="fa fa-times fa-fw"></i> Busy
									</a></li>
									<li><a href="#"> <i class="fa fa-clock-o fa-fw"></i> Away
									</a></li>
									<li class="divider"></li>
									<li><a href="#"> <i class="fa fa-sign-out fa-fw"></i> Sign Out
									</a></li>
								</ul>
							</div>
						</div>
						<!-- /.panel-heading -->
						<div class="panel-body">
							<ul class="chat">
								<li class="left clearfix"><span class="chat-img pull-left"> <img src="http://placehold.it/50/55C1E7/fff" alt="User Avatar"
										class="img-circle" />
								</span>
									<div class="chat-body clearfix">
										<div class="header">
											<strong class="primary-font">Jack Sparrow</strong> <small class="pull-right text-muted"> <i class="fa fa-clock-o fa-fw"></i>
												12 mins ago
											</small>
										</div>
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.</p>
									</div></li>
								<li class="right clearfix"><span class="chat-img pull-right"> <img src="http://placehold.it/50/FA6F57/fff" alt="User Avatar"
										class="img-circle" />
								</span>
									<div class="chat-body clearfix">
										<div class="header">
											<small class=" text-muted"> <i class="fa fa-clock-o fa-fw"></i> 13 mins ago
											</small> <strong class="pull-right primary-font">Bhaumik Patel</strong>
										</div>
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.</p>
									</div></li>
								<li class="left clearfix"><span class="chat-img pull-left"> <img src="http://placehold.it/50/55C1E7/fff" alt="User Avatar"
										class="img-circle" />
								</span>
									<div class="chat-body clearfix">
										<div class="header">
											<strong class="primary-font">Jack Sparrow</strong> <small class="pull-right text-muted"> <i class="fa fa-clock-o fa-fw"></i>
												14 mins ago
											</small>
										</div>
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.</p>
									</div></li>
								<li class="right clearfix"><span class="chat-img pull-right"> <img src="http://placehold.it/50/FA6F57/fff" alt="User Avatar"
										class="img-circle" />
								</span>
									<div class="chat-body clearfix">
										<div class="header">
											<small class=" text-muted"> <i class="fa fa-clock-o fa-fw"></i> 15 mins ago
											</small> <strong class="pull-right primary-font">Bhaumik Patel</strong>
										</div>
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.</p>
									</div></li>
							</ul>
						</div>
						<!-- /.panel-body -->
						<div class="panel-footer">
							<div class="input-group">
								<input id="btn-input" type="text" class="form-control input-sm" placeholder="Type your message here..." /> <span class="input-group-btn">
									<button class="btn btn-warning btn-sm" id="btn-chat">Send</button>
								</span>
							</div>
						</div>
						<!-- /.panel-footer -->
					</div>
					<!-- /.panel .chat-panel -->
				</div>
				<!-- /.col-lg-4 -->
			</div>
			<!-- /.row -->
		</div>
		<!-- /#page-wrapper -->
	</div>
	<!-- /#wrapper -->
	<!-- jQuery -->
	<script src="/music/js/jquery.min.js"></script>
	<!-- Bootstrap Core JavaScript -->
	<script src="/music/js/bootstrap.min.js"></script>
	<script type="text/javascript">
		$("#logout").on("click", function() {
			$.ajax({
				url : "/music/admin/logout",
				dataType : "json",
				success : function(data) {
					window.location.href = data.url;
				}
			})
		});
		var $modules = $("#nav").find("a");
		var $material = $("#page-wrapper");
		$modules.on("click", function() {
			$modules.removeClass("active");
			$(this).addClass("active");
			$.ajax({
				url : $(this).attr("data-href"),
				type : "GET",
				success : function(data) {
					$material.html(data);
				}
			})
		});

		function loadTable(url, loadItem, pageUrl, event) {
			var $tbody = $("tbody"), $prototype = $tbody.find(".prototype").clone().removeClass("prototype");
			var $pages = $("ul[data-pages]");
			$.ajax({
				url : url,
				dataType : "json",
				type : "GET"
			}).done(function(data) {
				if (data.code == 200) {
					var pageBean = data.data, beans = pageBean.beans, $bean;
					songMenus.map(function(bean, index) {
						$bean = $prototype.clone();
						loadItem($bean, bean, index);
						$tbody.append($bean);
					});

					loadPages(pageBean, $pages, pageUrl);

					$tbody.on("click", function(e) {
						var type = $(e.target).attr("data-type");
						if (type) {
							var $item = $(e.target).parents("tr");
							switch (type) {
								case "delete" :
									deleteItem($item);
									break;
								case "edit" :
									editItem($item);
									break;
							}
						}
					});
				} else {
					alert("加载失败");
				}
			});
		}

		function deleteItem($item) {
			$.ajax({
				url : $item.attr("data-url"),
				type : "DELETE",
				dataType : "json"
			}).done(function(data) {
				if (data.code == 200) {
					$item.remove();
				} else {
					alert("操作失败");
				}
			}).fail(function(e) {
				alert("操作失败");
			});
		}

		function loadPages(pageBean, $pages, prefix, load) {
			$pages.empty();
			if (pageBean.totalPage < 2) {
				return;
			}
			var config = {
				addEle : function(index) {
					var className = "", href = prefix + "page/" + index;
					if (index == pageBean.page) {
						className = "active";
						href = "#";
					}
					$pages.append("<li class='"+className+"'><a href='#' data-href='"+href+"'>" + index + "</a></li>");
				},
				addPrevious : function() {
					var className = "", href = prefix + "page/" + (pageBean.page - 1);
					if (pageBean.page == 1) {
						className = "disabled";
						href = "#";
					}
					$pages.append("<li><a href='#' class='" + className + "' data-href='" + href + "'>上一页 </a></li>");
				},
				addNext : function() {
					var className = "", href = prefix + "page/" + (pageBean.page + 1);
					if (pageBean.page == pageBean.totalPage) {
						className = "disabled";
						href = "#";
					}
					$pages.append("<li><a href='#' class='" + className + "' data-href='" + href + "'>下一页 </a></li>");
				},
				totalPage : pageBean.totalPage,
				page : pageBean.page,
				limit : pageBean.limit
			};
			Page(config);
			$pages.off("click").on("click", function(e) {
				$.ajax({
					url : $(e.target).attr("data-href"),
					dataType : "json",
					type : "GET"
				}).done(function(data) {
					load(data, prefix)
				});
			})
		}

		//addEle：根据给出的页数，执行添加方法，前一页、后一页不在其中
		//addPrevious/addNext：执行前一页或后一页的添加方法
		//totalPage：总页数
		//page：当前页数
		//limit：显示的页面个数
		function Page(config) {//分页的计算模块
			var defaultFunction = function() {
			}, //
			addEle = config.addEle || defaultFunction, //
			addPrevious = config.addPrevious || defaultFunction, //
			addNext = config.addNext || defaultFunction, //
			totalPage = config.totalPage || 0, //
			page = config.page || 1, //
			limit = config.limit || 10;

			if (totalPage <= 0) {
				//传的什么玩意儿啊
				return;
			} else if (totalPage == 1) {
				//上一页   1  下一页
				addPrevious();
				addEle(1);
				addNext();
			} else {
				//一般情况
				var middle = Math.ceil(limit / 2), //中数
				begin = page - (middle - 1), //开始位默认值
				end = page + (middle - 1); //结束位默认值

				if (page < middle) { //中数以下
					begin = 1;
					end = limit;
				}
				if (totalPage < end) {//结束位修正
					end = totalPage;
				}

				addPrevious();
				for (var i = begin; i < end + 1; i++) {
					addEle(i);
				}
				addNext();
			}
		}

		// $yyyy-$MM-$dd-$SS $HH:$mm:$ss:$SS
		window.DateFormatter = function DateFormatter(regExpString) {
			var array = new Array();
			var str = regExpString;
			str = parse(str);

			function parse(regExpString) {
				var possibleValues = new Array();
				var str = regExpString;

				possibleValues.splice(0, possibleValues.length, 2, 4);
				str = parse_base("y", "year", str, possibleValues);

				possibleValues.splice(0, possibleValues.length, 2);
				str = parse_base("M", "month", str, possibleValues);

				possibleValues.splice(0, possibleValues.length, 2);
				str = parse_base("d", "day", str, possibleValues);

				possibleValues.splice(0, possibleValues.length, 2);
				str = parse_base("H", "hour", str, possibleValues);

				possibleValues.splice(0, possibleValues.length, 2);
				str = parse_base("m", "minute", str, possibleValues);

				possibleValues.splice(0, possibleValues.length, 2);
				str = parse_base("s", "seconds", str, possibleValues);

				return str;
			}

			function parse_base(part, total, regExpString, possibleValues) {
				var num = regExpString.split(part).length - 1;
				var str = regExpString;
				array[total] = new DateItem();

				for (var i = 0; i < possibleValues.length; i++) {
					if (num === possibleValues[i] && str.split(increaseStr(part, num)).length === 2) {
						var _str = increaseStr(part, num);
						str = str.replace(_str, "$" + _str);
						array[total].regExp = "$" + _str;
						array.length += 1;
						return str;
					}
					if (num === 0) {
						return str;
					}
				}
				alert("格式错误：" + regExpString);
				throw "格式错误：" + regExpString;
			}

			function increaseStr(str, num) {
				var result = "";
				if (num === 0) {
					return result;
				}
				for (var i = 0; i < num; i++) {
					result += str;
				}
				return result;
			}

			function DateItem(regExp, num) {
				this.regExp = regExp;
				this.num = num;
			}

			this.format = function(time) {
				var date = new Date();
				date.setTime(time);
				array["year"].num = date.getFullYear();
				array["month"].num = date.getMonth() + 1;
				array["day"].num = date.getDate();
				array["hour"].num = date.getHours();
				array["minute"].num = date.getMinutes();
				array["seconds"].num = date.getSeconds();
				return replace(array, str);
			}

			function replace(array, str) {
				var _str = str;
				for ( var i = 0 in array) {
					var num = "";
					var regExp = array[i].regExp;
					if (regExp) {
						if (array[i].num || array[i].num === 0) {
							num = array[i].num.toString();
							if (num.length < regExp.length - 1) {// 时分秒为0
								num = increaseStr("0", regExp.length - 1 - num.length) + num;
							} else {// 年只有两位
								num = num.substring(num.length - regExp.length + 1);
							}
						}
						_str = _str.replace(regExp, num);
					}
				}
				return _str;
			}
		}

		//works：[Function,Function]
		//WorkGroup(works).done(function(){});
		function WorkGroup(works) {
			if (!Array.isArray(works)) {
				throw TypeError("works必须为Array");
			}

			var num = works.length | 0 //
			, callback = function(){} //
			, excuteFlag = true //
			//定义暴露出去的接口
			,group = {
				done : function(_callback) {	//模拟延迟接口
					callback = _callback;
					if(num === 0){
						callback();
					}
					return this;
				},
				pop : function(work){		//被work调用接口
					num--;
					if(num<=0){
						callback();
					}
				},
				push : function(work){		//动态添加work接口
					//num++;
				},
				fail : function(){			//有工作失败时
					callback = function(){};
					excuteFlag = false;
				}
			};

			//work与workGroup绑定
			works.forEach((work)=>{
				if(work instanceof Function){
					if(excuteFlag){
						work.workGroup = group;
						work.call(work);
					}
				}else{
					throw TypeError("work必须为Function");
				}
			});

			return group;
		}
		function Work(doSomething) {
			return {
				done : function() {
					doSomething();
					if(this.workGroup){
						this.workGroup.pop(this);
					}
				}
			}
		}
		function refresh(url){
			$.ajax({
				url : url,
				type : "GET",
				success : function(data) {
					$("body").removeAttr("class").removeAttr("style") //
					.find(".modal-backdrop").remove();
					$material.html(data);
				}
			});
		}
	</script>
</body>
</html>
